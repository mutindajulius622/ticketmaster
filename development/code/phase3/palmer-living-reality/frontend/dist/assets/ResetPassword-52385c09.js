import{r as n,a as P,e as S,j as e,b as C,n as a,d as k}from"./index-5c8dffdc.js";import{u as E}from"./index.esm-4edf3dfc.js";import{L as x,E as w,a as p}from"./lock-438b88a1.js";const R=()=>{const[t,f]=n.useState(!1),[o,h]=n.useState(!1),[l,d]=n.useState(!1),y=P(),{token:i}=S(),{register:c,handleSubmit:b,watch:g,formState:{errors:r}}=E(),j=g("password"),N=async s=>{var m,u;if(s.password!==s.confirmPassword){a.error("Passwords do not match");return}if(!i){a.error("Invalid reset token");return}d(!0);try{await k.resetPassword(i,s.password),a.success("Password reset successful! Please login with your new password."),y("/login")}catch(v){a.error(((u=(m=v.response)==null?void 0:m.data)==null?void 0:u.message)||"Failed to reset password")}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below."})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b(N),children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(x,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...c("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),id:"password",name:"password",type:t?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"New Password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("button",{type:"button",onClick:()=>f(!t),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:t?e.jsx(w,{className:"h-5 w-5"}):e.jsx(p,{className:"h-5 w-5"})})})]}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(x,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...c("confirmPassword",{required:"Please confirm your password",validate:s=>s===j||"Passwords do not match"}),id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm New Password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("button",{type:"button",onClick:()=>h(!o),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o?e.jsx(w,{className:"h-5 w-5"}):e.jsx(p,{className:"h-5 w-5"})})})]}),r.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsx(C,{size:"sm"}):"Reset Password"})})]})]})})};export{R as default};
//# sourceMappingURL=ResetPassword-52385c09.js.map
