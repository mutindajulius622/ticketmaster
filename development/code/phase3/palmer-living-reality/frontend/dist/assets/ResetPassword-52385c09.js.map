{"version":3,"file":"ResetPassword-52385c09.js","sources":["../../src/pages/Auth/ResetPassword.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { toast } from 'react-hot-toast';\nimport { Lock, Eye, EyeOff } from 'lucide-react';\nimport { authApi } from '../../api/auth';\nimport Loader from '../../components/common/Loader';\n\ninterface ResetPasswordForm {\n  password: string;\n  confirmPassword: string;\n}\n\nconst ResetPassword: React.FC = () => {\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n  const { token } = useParams<{ token: string }>();\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm<ResetPasswordForm>();\n\n  const password = watch('password');\n\n  const onSubmit = async (data: ResetPasswordForm) => {\n    if (data.password !== data.confirmPassword) {\n      toast.error('Passwords do not match');\n      return;\n    }\n\n    if (!token) {\n      toast.error('Invalid reset token');\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await authApi.resetPassword(token, data.password);\n      toast.success('Password reset successful! Please login with your new password.');\n      navigate('/login');\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || 'Failed to reset password');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Reset your password\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Enter your new password below.\n          </p>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                New Password\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Lock className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  {...register('password', {\n                    required: 'Password is required',\n                    minLength: {\n                      value: 6,\n                      message: 'Password must be at least 6 characters',\n                    },\n                  })}\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  autoComplete=\"new-password\"\n                  required\n                  className=\"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"New Password\"\n                />\n                <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"text-gray-400 hover:text-gray-600 focus:outline-none\"\n                  >\n                    {showPassword ? (\n                      <EyeOff className=\"h-5 w-5\" />\n                    ) : (\n                      <Eye className=\"h-5 w-5\" />\n                    )}\n                  </button>\n                </div>\n              </div>\n              {errors.password && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.password.message}</p>\n              )}\n            </div>\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"sr-only\">\n                Confirm New Password\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Lock className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <input\n                  {...register('confirmPassword', {\n                    required: 'Please confirm your password',\n                    validate: (value) => value === password || 'Passwords do not match',\n                  })}\n                  id=\"confirmPassword\"\n                  name=\"confirmPassword\"\n                  type={showConfirmPassword ? 'text' : 'password'}\n                  autoComplete=\"new-password\"\n                  required\n                  className=\"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Confirm New Password\"\n                />\n                <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                    className=\"text-gray-400 hover:text-gray-600 focus:outline-none\"\n                  >\n                    {showConfirmPassword ? (\n                      <EyeOff className=\"h-5 w-5\" />\n                    ) : (\n                      <Eye className=\"h-5 w-5\" />\n                    )}\n                  </button>\n                </div>\n              </div>\n              {errors.confirmPassword && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.confirmPassword.message}</p>\n              )}\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? <Loader size=\"sm\" /> : 'Reset Password'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ResetPassword;\n"],"names":["ResetPassword","showPassword","setShowPassword","useState","showConfirmPassword","setShowConfirmPassword","isLoading","setIsLoading","navigate","useNavigate","token","useParams","register","handleSubmit","watch","errors","useForm","password","onSubmit","data","toast","authApi","error","_b","_a","jsxs","jsx","Lock","EyeOff","Eye","value","Loader"],"mappings":"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"}