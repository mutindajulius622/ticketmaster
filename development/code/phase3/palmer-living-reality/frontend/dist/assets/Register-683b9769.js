import{c as P,r as l,u as q,a as _,j as e,L as k,b as L,n}from"./index-5c8dffdc.js";import{u as C}from"./index.esm-4edf3dfc.js";import{M as F}from"./mail-08955bb1.js";import{P as S}from"./phone-0de375ea.js";import{L as u,E as x,a as p}from"./lock-438b88a1.js";const z=P("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),O=()=>{const[t,h]=l.useState(!1),[o,f]=l.useState(!1),[i,d]=l.useState(!1),{register:b}=q(),y=_(),{register:a,handleSubmit:g,watch:j,formState:{errors:s}}=C(),w=j("password"),v=async r=>{var c,m;if(r.password!==r.confirmPassword){n.error("Passwords do not match");return}d(!0);try{await b({first_name:r.first_name,last_name:r.last_name,email:r.email,phone:r.phone,password:r.password,role:r.role}),n.success("Registration successful! Please login."),y("/login")}catch(N){n.error(((m=(c=N.response)==null?void 0:c.data)==null?void 0:m.message)||"Registration failed")}finally{d(!1)}};return e.jsx("div",{className:"form-container",children:e.jsxs("div",{className:"form-card",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"form-title",children:"Create your account"}),e.jsxs("p",{className:"form-subtitle",children:["Or"," ",e.jsx(k,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to existing account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g(v),children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"sr-only",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(z,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...a("first_name",{required:"First name is required"}),id:"first_name",name:"first_name",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"First Name"})]}),s.first_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.first_name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"sr-only",children:"Last Name"}),e.jsx("input",{...a("last_name",{required:"Last name is required"}),id:"last_name",name:"last_name",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Last Name"}),s.last_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.last_name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(F,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(S,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...a("phone",{required:"Phone is required"}),id:"phone",name:"phone",type:"tel",required:!0,className:"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Phone Number"})]}),s.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.phone.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"sr-only",children:"Role"}),e.jsxs("select",{...a("role",{required:"Role is required"}),id:"role",name:"role",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select Role"}),e.jsx("option",{value:"tenant",children:"Tenant"}),e.jsx("option",{value:"property_owner",children:"Property Owner"}),e.jsx("option",{value:"property_manager",children:"Property Manager"})]}),s.role&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.role.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(u,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),id:"password",name:"password",type:t?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("button",{type:"button",onClick:()=>h(!t),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:t?e.jsx(x,{className:"h-5 w-5"}):e.jsx(p,{className:"h-5 w-5"})})})]}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(u,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...a("confirmPassword",{required:"Please confirm your password",validate:r=>r===w||"Passwords do not match"}),id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("button",{type:"button",onClick:()=>f(!o),className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:o?e.jsx(x,{className:"h-5 w-5"}):e.jsx(p,{className:"h-5 w-5"})})})]}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsx(L,{size:"sm"}):"Create Account"})})]})]})})};export{O as default};
//# sourceMappingURL=Register-683b9769.js.map
